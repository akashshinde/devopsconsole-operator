apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  labels:
    api: ""
    kubebuilder.k8s.io: 1.0.3
  name: clusters.clusterregistry.k8s.io
spec:
  group: clusterregistry.k8s.io
  names:
    kind: Cluster
    listKind: ClusterList
    plural: clusters
    singular: cluster
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        apiVersion:
          type: string
        kind:
          type: string
        metadata:
          type: object
        spec:
          properties:
            authInfo:
              properties:
                controller:
                  properties:
                    kind:
                      type: string
                    name:
                      type: string
                    namespace:
                      type: string
                  type: object
                user:
                  properties:
                    kind:
                      type: string
                    name:
                      type: string
                    namespace:
                      type: string
                  type: object
              type: object
            kubernetesApiEndpoints:
              properties:
                caBundle:
                  format: byte
                  type: string
                serverEndpoints:
                  items:
                    properties:
                      clientCIDR:
                        type: string
                      serverAddress:
                        type: string
                    type: object
                  type: array
              type: object
          type: object
        status:
          properties:
            conditions:
              items:
                properties:
                  lastHeartbeatTime:
                    format: date-time
                    type: string
                  lastTransitionTime:
                    format: date-time
                    type: string
                  message:
                    type: string
                  reason:
                    type: string
                  status:
                    type: string
                  type:
                    type: string
                required:
                - type
                - status
                type: object
              type: array
          type: object
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true

---

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  name: components.devopsconsole.openshift.io
spec:
  group: devopsconsole.openshift.io
  names:
    kind: Component
    listKind: ComponentList
    plural: components
    singular: component
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        apiVersion:
          type: string
        kind:
          type: string
        metadata:
          type: object
        spec:
          properties:
            app:
              type: "string"
              minimum: 1
            codebase:
              type: "string"
              minimum: 1
            buildtype:
              type: "string"
              minimum: 1 
            listenport:
              type: "number"
        status:
          type: object
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true

---

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: envdeployments.devopsconsole.openshift.io
spec:
  group: devopsconsole.openshift.io
  names:
    kind: EnvDeployment
    listKind: EnvDeploymentList
    plural: envdeployments
    singular: envdeployment
    shortNames:
      - envdeploy
  scope: Namespaced
  validation:
    # openAPIV3Schema is the schema for validating custom objects.
    openAPIV3Schema:
      properties:
        apiVersion:
          type: string
        kind:
          type: string
        metadata:
          type: object
        spec:
          properties:
            environmentRef:
              type: object
              properties:
                kind:
                  type: string
                name:
                  type: string
                apiGroup:
                  type: string
            deploymentRef:
              type: object
              properties:
                kind:
                  type: string
                name:
                  type: string
                apiGroup:
                  type: string
  version: v1alpha1

---

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: environments.devopsconsole.openshift.io
spec:
  group: devopsconsole.openshift.io
  names:
    kind: Environment
    listKind: EnvironmentList
    plural: environments
    singular: environment
    shortNames:
      - env
  scope: Namespaced
  validation:
    # openAPIV3Schema is the schema for validating custom objects.
    openAPIV3Schema:
      properties:
        apiVersion:
          type: string
        kind:
          type: string
        metadata:
          type: object
        spec:
          properties:
            type:
              type: string
              enum:
                - 'deploy'
            namespace:
              type: string
            clusterRef:
              type: object
              properties:
                kind:
                  type: string
                name:
                  type: string
                apiGroup:
                  type: string
  version: v1alpha1
